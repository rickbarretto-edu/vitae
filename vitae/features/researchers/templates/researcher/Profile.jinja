{#def
    name: str,
    lattes: dict,
    orcid: dict | None
#}

{#

    Profile
    -------

    Displays the researcher's profile header with their name, initials avatar, and Lattes ID.

    `name`: the full name of the researcher.
    `lattes_id`: the researcher's Lattes platform identifier.

    Usage
    -----

    To show a researcher profile header:

        <researcher.Profile name="John Doe" lattes_id="1234567890123456" />

    This renders the initials avatar from the first and last letters of the name,
    the full name, and the Lattes ID below it.

#}


{% set name = name | string %}
{% set initials = name | words | map(attribute=0) | join('') %}

<div class="flex items-start justify-between mb-4">

    <div class="flex items-center">
        <div class="w-16 h-16 rounded-full bg-gradient-to-br from-indigo-500 to-purple-500 
            text-white flex items-center justify-center font-bold text-xl mr-4">
            {{ initials[0] ~ initials[-1] }}
        </div>
        <div>
            <h2 class="text-xl font-semibold">{{name}}</h2>
            <p class="text-sm text-gray-600 font-mono">ID: {{lattes.id}}</p>
        </div>
    </div>

    <div class="flex space-x-2 self-start">
        {% if orcid %}
            <a href="{{orcid.url}}" title="Abrir perfil Orcid"
                target="_blank" rel="noopener noreferrer" onclick="event.stopPropagation()">
                <i class="ai ai-orcid-square ai-2x text-gray-300 cursor-pointer hover:text-teal-500 transition-colors"></i>
            </a>
        {% endif %}
        <a href="{{lattes.url}}" title="Abrir perfil Lattes" 
            target="_blank" rel="noopener noreferrer" onclick="event.stopPropagation()">
            <i class="ai ai-lattes-square ai-2x text-gray-300 cursor-pointer hover:text-teal-500 transition-colors"></i>
        </a>
    </div>

</div>
